function ContextMenuModule(w,m){function r(l,e){if("separator"==e.type)c(l,"hr").style.margin="0px";else{var b=c(l,"table");b.style.width="100%";b=c(b,"tr");b.className="list_item";b.style.height="30px";if(e.image){var a=c(b,"td");a.style.width="33px";a=c(a,"img");a.draggable=!1;a.width=30;a.height=30;a.src="/static/images/"+e.image;a.style.verticalAlign="middle";a.style.marginLeft="3px"}a=c(b,"td");a.style.whiteSpace="nowrap";a.style.verticalAlign="middle";a.style.paddingLeft="5px";a.style.paddingRight=
"5px";HtmlUtils.setDivText(a,e.text);20<e.text.length&&(a.style.fontSize="80%");b.onclick=function(a){var b=a.clientX;a=a.clientY;n();e.code(b,a)}}}function n(){h=k=null;HtmlUtils.hidePopup()}function c(c,e){var b=m.createElement(e);c.appendChild(b);return b}var k=null,h=null;this.show=function(l,e,b,a){var d;a=HtmlUtils.createPopup(a);a.className="popup";a.style.minWidth="100px";a.style.overflow="hidden";a.style.background="white";HtmlUtils.noContext(a);d=c(a,"div");d.style.background="#455A64";
d.style.height="30px";d=c(d,"img");d.draggable=!1;d.src="/static/images/cross.png";d.width=30;d.height=30;var f=d.style;d.className="common_button";f.cursor="pointer";f.display="inline-block";f["float"]="right";d.onclick=n;k=d=c(a,"div");h=a;if(b.isGrid){d=c(d,"table");f=0;b=b.rows;for(var p=b.length;f<p;){for(var t=b[f],m=c(d,"tr"),q=0,v=t.length;q<v;){var u=t[q],g=c(m,"td"),g=c(g,"img");g.draggable=!1;g.className="common_button";g.width=40;g.height=40;g.src="/static/images/"+u.image;g.style.margin=
"5px";g.style.cursor="pointer";g.onclick=u.callback;q++}f++}}else for(f=0,b=b.rows,p=b.length;f<p;)r(d,b[f]),f++;HtmlUtils.setPosCorrected(l,e,a);HtmlUtils.setUpMovable(a,30)};this.hide=n;this.addItem=function(c){k&&r(k,c)};this.repos=function(c,e){k&&(h.style.height="",h.style.width="",HtmlUtils.setPosCorrected(c,e,h))}}ContextMenu=new ContextMenuModule(window,document);
